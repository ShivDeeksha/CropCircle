{% load static %}
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Safira – Organic food HTML Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}
    ">

    <!-- CSS 
    ========================= -->
    <!--bootstrap min css-->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <!--owl carousel min css-->
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <!--slick min css-->
    <link rel="stylesheet" href="{% static 'css/slick.css' %}">
    <!--magnific popup min css-->
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
    <!--font awesome css-->
    <link rel="stylesheet" href="{% static 'css/font.awesome.css' %}">
    <!--ionicons css-->
    <link rel="stylesheet" href="{% static 'css/ionicons.min.css' %}">
    <!--linearicons css-->
    <link rel="stylesheet" href="{% static 'css/linearicons.css' %}">
    <!--animate css-->
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <!--jquery ui min css-->
    <link rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %}">
    <!--slinky menu css-->
    <link rel="stylesheet" href="{% static 'assets/css/slinky.menu.css' %}">
    <!--plugins css-->
    <link rel="stylesheet" href="{% static 'css/plugins.css' %}">

    <!-- Main Style CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <!--modernizr min js here-->
    <script src="{% static 'js/vendor/modernizr-3.7.1.min.js' %}"></script>
</head>

<body>

    <!--header area start-->

    <!--offcanvas menu area start-->


    <div class="offcanvas_menu">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="canvas_open">
                        <a href="javascript:void(0)"><i class="icon-menu"></i></a>
                    </div>
                    <div class="offcanvas_menu_wrapper">
                        <div id="menu" class="text-left ">
                            <ul class="offcanvas_main_menu">
                                <li><a class="active" href="{% url 'index' %}">home</a>

                                </li>
                                <li><a href="{% url 'aboutus' %}">Crop Circle</a></li>
                                <li><a href="{% url 'services' %}">Services</a></li>
                                <li><a href="{% url 'aboutBank' %}">Crop Banks</a></li>
                                <li><a href="{% url 'veggieshop' %}">Veggie Shop</a></li>
                                <li><a href="{% url 'BidZone' %}">BidZone</a></li>
                                <li><a href="{% url 'aboutCropGuide' %}"> Crop Guide</a></li>
                                <li><a href="{% url 'aboutCropHealth' %}"> Crop Health</a></li>
                                <li><a href="{% url 'aboutTransport' %}"> Transport</a></li>
                                <li><a href="{% url 'contactUs' %}"> Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--offcanvas menu area end-->

    <header>
        <div class="main_header">
            <div class="header_top">

                <div class="header_middle">
                    <div class="container">
                        <div class="row align-items-center">
                            <div class="col-lg-2 col-md-3 col-sm-3 col-3">
                                <div class="logo">
                                    <a href="index.html"><img src="{% static 'img/logo/logo.png' %}" alt=""></a>
                                </div>
                            </div>
                            <!-- <div class="col-lg-10 col-md-6 col-sm-7 col-8"> -->

                            <!-- <div class="header_right_info">

                                    <div class="header_account_area">
                                        <div class="header_account_list register">
                                            <ul>
                                                <li><a href="#">Register</a></li>
                                                <li><span>/</span></li>
                                                <li><a href="#">Login</a></li>
                                            </ul>
                                        </div>
                                       
                                            <div class="mini_cart">
                                                <div class="cart_gallery">
                                                    <div class="cart_close">
                                                        <div class="cart_text">
                                                            <h3>cart</h3>
                                                        </div>
                                                        <div class="mini_cart_close">
                                                            <a href="javascript:void(0)"><i class="icon-x"></i></a>
                                                        </div>
                                                    </div>
                                                    <div class="cart_item">
                                                        <div class="cart_img">
                                                            <a href="#"><img src="assets/img/s-product/product.jpg"
                                                                    alt=""></a>
                                                        </div>
                                                        <div class="cart_info">
                                                            <a href="#">Primis In Faucibus</a>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div> -->
                            <!-- </div> -->
                            <div class="header_bottom sticky-header">
                                <div class="container">
                                    <div class="row align-items-center">

                                        <div class="col-lg-6">
                                            <!--main menu start-->
                                            <div class="main_menu menu_position">
                                                <nav>
                                                    <ul>
                                                        <li><a class="active" href="{% url 'index' %}">home</a>

                                                        </li>
                                                        <li><a href="{% url 'aboutus' %}">Crop Circle</a></li>
                                                        <li><a href="{% url 'services' %}">Services</a></li>
                                                        <li><a href="{% url 'aboutBank' %}">Crop Banks</a></li>
                                                        <li><a href="{% url 'veggieshop' %}">Veggie Shop</a></li>
                                                        <li><a href="{% url 'BidZone' %}">BidZone</a></li>
                                                        <li><a href="{% url 'aboutCropGuide' %}"> Crop Guide</a></li>
                                                        <li><a href="{% url 'aboutCropHealth' %}"> Crop Health</a></li>
                                                        <li><a href="{% url 'aboutTransport' %}"> Transport</a></li>
                                                        <li><a href="{% url 'contactUs' %}"> Contact Us</a></li>


                                                    </ul>
                                                </nav>
                                            </div>
                                            <!--main menu end-->
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
    </header>
    <!--header area end-->

    <!--breadcrumbs area start-->
    <div class="breadcrumbs_area1">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb_content1">
                        <ul>
                            <li><a href="index.html">home</a></li>
                            <li>All Banks</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--breadcrumbs area end-->
    <!-- customer registration start -->
    <div class="customer_login">
        <div class="container1"> <!-- Apply container1 class -->
            <div class="heading1">Sign Up</div> <!-- Apply heading1 class -->
            <form method="post" action="{% url 'register' %}" class="form1" enctype="multipart/form-data">
                <!-- Apply form1 class -->
                {% csrf_token %}
                <p>
                <div style="margin-top: 10px; margin-bottom: 10px;">
                    <label>User Type <span>*</span></label>
                    <div class="custom-dropdown">
                        <select name="user_type" required class="input">
                            <option value="customer">Customer</option>
                            <option value="farmer">Farmer</option>
                            <option value="merchant">Merchant</option>
                            <option value="driver">Driver</option>
                            <option value="cropbankowner">Crop Bank Owner</option>
                            <option value="cropexpert">Crop Expert</option>
                        </select>
                        <div class="arrow"></div>
                    </div>
                </div>


                </p>
                <p>
                    <label>Name <span>*</span></label>
                    <input type="text" name="name" required class="input"> <!-- Apply input class -->
                </p>

                <p>
                    <label>Location <span>*</span></label>
                    <input type="text" name="location" required class="input"> <!-- Apply input class -->
                </p>
                <p>
                    <label>Phone Number <span>*</span></label>
                    <input type="text" name="phonenumber" required class="input"> <!-- Apply input class -->
                </p>
                <!-- Additional OTP Verification Fields -->
                <p>
                    <label>Enter OTP <span>*</span></label>
                    <input type="text" name="otp" required class="input"> <!-- Apply input class -->
                </p>
                <!-- End OTP Verification Fields -->
                <p>
                    <label>WhatsApp Number <span>*</span></label>
                    <input type="text" name="whatsapp_number" required class="input"> <!-- Apply input class -->
                </p>
                <p>
                    <label>Email <span>*</span></label>
                    <input type="email" name="email" required class="input"> <!-- Apply input class -->
                </p>
                <p>
                    <label>Username <span>*</span></label>
                    <input type="text" name="username" required class="input" id="usernameInput">
                    <span id="usernameValidation"></span> <!-- Display validation message here -->
                </p>
                <p>
                    <label>Password <span>*</span></label>
                    <input type="password" name="password" required class="input"> <!-- Apply input class -->
                </p>
                <p>
                    <label>Confirm Password <span>*</span></label>
                    <input type="password" name="confirm_password" required class="input"> <!-- Apply input class -->
                </p>


                <!-- Additional Fields Based on User Type -->
                <div id="adharcard_field" style="display:none;">
                    <p>
                        <label>Adharcard <span>*</span></label>
                        <input type="file" name="adharcard" class="input"
                            style="margin-top: 10px; margin-bottom: 10px;"> <!-- Apply input class -->
                    </p>
                </div>

                <div id="document_field" style="display:none;">
                    <p>
                        <label>7/12 Document <span>*</span></label>
                        <input type="file" name="document" class="input" style="margin-top: 10px; margin-bottom: 10px;">
                        <!-- Apply input class -->
                    </p>
                </div>

                <div id="merchant_license_field" style="display:none;">
                    <p>
                        <label>Merchant License <span>*</span></label>
                        <input type="file" name="merchant_license" class="input"
                            style="margin-top: 10px; margin-bottom: 10px;"> <!-- Apply input class -->
                    </p>
                </div>

                <div id="driving_license_field" style="display:none;">
                    <p>
                        <label>Driving License <span>*</span></label>
                        <input type="file" name="driving_license" class="input"
                            style="margin-top: 10px; margin-bottom: 10px;"> <!-- Apply input class -->
                    </p>
                </div>

                <!-- End Additional Fields -->


                <!-- End Additional Fields -->

                <div class="login_submit">
                    <button type="submit" class="login-button" disabled>Register</button>
                    <!-- Apply login-button class -->
                </div>

            </form>
        </div>
    </div>
    <!-- customer registration end -->


    <!--footer area start-->
    <footer class="footer_widgets footer_border">

        <div class="footer_bottom">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 col-md-7">
                        <div class="copyright_area">
                            <p>Copyright © 2024 <a href="#">Crop Circle</a> . All Rights Reserved.Design by <a
                                    href="#">Crop Circle</a></p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </footer>
    <!--footer area end-->


    <!-- JS
============================================ -->
    <!--jquery min js-->
    <script src="{% static 'js/vendor/jquery-3.4.1.min.js' %}"></script>
    <!--popper min js-->
    <script src="{% static 'js/popper.js' %}"></script>
    <!--bootstrap min js-->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!--owl carousel min js-->
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <!--slick min js-->
    <script src="{% static 'js/slick.min.js' %}"></script>
    <!--magnific popup min js-->
    <script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
    <!--counterup min js-->
    <script src="{% static 'js/jquery.counterup.min.js' %}"></script>
    <!--jquery countdown min js-->
    <script src="{% static 'js/jquery.countdown.js' %}"></script>
    <!--jquery ui min js-->
    <script src="{% static 'js/jquery.ui.js' %}"></script>
    <!--jquery elevatezoom min js-->
    <script src="{% static 'js/jquery.elevatezoom.js' %}"></script>
    <!--isotope packaged min js-->
    <script src="{% static 'js/isotope.pkgd.min.js' %}"></script>
    <!--slinky menu js-->
    <script src="{% static 'js/slinky.menu.js' %}"></script>
    <!--instagramfeed menu js-->
    <script src="{% static 'js/jquery.instagramFeed.min.js' %}"></script>
    <!-- tippy bundle umd js -->
    <script src="{% static 'js/tippy-bundle.umd.js' %}"></script>
    <!-- Plugins JS -->
    <script src="{% static 'js/plugins.js' %}"></script>

    <!-- Main JS -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <!-- Add this script in your HTML file -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Function to toggle visibility of fields based on user type
            function toggleFields() {
                var userType = document.querySelector('select[name="user_type"]');
                var adharcardField = document.getElementById('adharcard_field');
                var documentField = document.getElementById('document_field');
                var merchantLicenseField = document.getElementById('merchant_license_field');
                var drivingLicenseField = document.getElementById('driving_license_field');

                adharcardField.style.display = 'none';
                documentField.style.display = 'none';
                merchantLicenseField.style.display = 'none';
                drivingLicenseField.style.display = 'none';

                if (userType.value === 'farmer') {
                    adharcardField.style.display = 'block';
                    documentField.style.display = 'block';
                } else if (userType.value === 'merchant') {
                    adharcardField.style.display = 'block';
                    merchantLicenseField.style.display = 'block';
                } else if (userType.value === 'driver') {
                    adharcardField.style.display = 'block';
                    drivingLicenseField.style.display = 'block';
                }
            }

            // Attach an event listener to the user type select element
            var userTypeSelect = document.querySelector('select[name="user_type"]');
            userTypeSelect.addEventListener('change', toggleFields);

            // Call the function initially to set the initial state
            toggleFields();
        });

    </script>
    <!-- Add this script to your HTML file -->
    <!-- Add this script at the end of the file -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            var usernameInput = $('#usernameInput');
            var usernameValidation = $('#usernameValidation');
            var submitButton = $('.login-button');

            function updateUsernameValidation(data) {
                if (data.available) {
                    usernameValidation.html('<span style="color: green;">Username is available!</span>');
                    submitButton.prop('disabled', false);
                } else {
                    usernameValidation.html('<span style="color: red;">' + data.error + '</span>');
                    submitButton.prop('disabled', true);
                }
            }

            usernameInput.on('input', function () {
                var username = $(this).val();
                if (username.length === 0) {
                    usernameValidation.html('');
                    submitButton.prop('disabled', false);
                    return;
                }

                $.ajax({
                    url: '/check-username/',
                    method: 'POST',
                    data: {
                        'username': username,
                        'csrfmiddlewaretoken': $('input[name=csrfmiddlewaretoken]').val()
                    },
                    success: function (data) {
                        updateUsernameValidation(data);
                    }
                });
            });

            // Disable submit button initially
            submitButton.prop('disabled', true);
        });
    </script>



</body>

</html>